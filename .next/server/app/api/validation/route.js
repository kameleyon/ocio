"use strict";(()=>{var e={};e.id=517,e.ids=[517],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},25528:e=>{e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},41808:e=>{e.exports=require("net")},85477:e=>{e.exports=require("punycode")},12781:e=>{e.exports=require("stream")},24404:e=>{e.exports=require("tls")},57310:e=>{e.exports=require("url")},59796:e=>{e.exports=require("zlib")},97705:(e,t,s)=>{s.r(t),s.d(t,{headerHooks:()=>m,originalPathname:()=>x,patchFetch:()=>f,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>v,staticGenerationAsyncStorage:()=>h,staticGenerationBailout:()=>g});var i={};s.r(i),s.d(i,{POST:()=>p});var r=s(95419),n=s(69108),o=s(99678),a=s(78070),u=s(81664),d=s(19592);async function p(e){try{let t=(0,u.K)(),{data:s}=await t.auth.getSession();if(!s.session)return a.Z.json({error:"Authentication required"},{status:401});let i=await e.json();if(!i.code||!i.path)return a.Z.json({error:"Missing required fields: code and path"},{status:400});let r=await (0,d.j)(i.code,i.path);return a.Z.json({validation:r})}catch(e){return console.error("Error validating code:",e),a.Z.json({error:"Internal server error"},{status:500})}}let c=new r.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/validation/route",pathname:"/api/validation",filename:"route",bundlePath:"app/api/validation/route"},resolvedPagePath:"c:\\Users\\Administrator\\ocio\\app\\api\\validation\\route.ts",nextConfigOutput:"standalone",userland:i}),{requestAsyncStorage:l,staticGenerationAsyncStorage:h,serverHooks:v,headerHooks:m,staticGenerationBailout:g}=c,x="/api/validation/route";function f(){return(0,o.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:h})}},19592:(e,t,s)=>{async function i(e,t){try{if(t.endsWith(".md")||t.endsWith(".txt")||t.endsWith(".svg")||t.endsWith(".ico")||t.endsWith(".gitignore"))return{valid:!0,issues:[],summary:"Non-code file, validation skipped"};let s=t.split(".").pop()?.toLowerCase(),i=function(e,t){let s=[];return/(['"])(?:api|auth|secret|key|token|password)_?(?:key|token|password)?\1\s*[:=]\s*(['"])[a-zA-Z0-9_\-]{20,}\2/i.test(e)&&!/\/\/.*(?:api|auth|key|token|password)/i.test(e)&&s.push({severity:"high",description:"Hardcoded credentials or API keys detected",suggestion:"Use environment variables instead of hardcoding sensitive data"}),(/eval\s*\(/.test(e)||/new\s+Function\s*\(/.test(e))&&s.push({severity:"high",description:"Use of eval() or new Function() detected",suggestion:"Avoid using eval() or the Function constructor for security reasons"}),("js"===t||"ts"===t||"jsx"===t||"tsx"===t)&&/(?:execute|query|run)\s*\(\s*(?:[`'"]|(?:\$\{)|\+)/.test(e)&&!e.includes("parameterized")&&!e.includes("prepared")&&s.push({severity:"high",description:"Potential SQL injection vulnerability",suggestion:"Use parameterized queries or prepared statements"}),("js"===t||"ts"===t||"jsx"===t||"tsx"===t)&&/(?:innerHTML|outerHTML|document\.write)\s*=/.test(e)&&s.push({severity:"medium",description:"Potential XSS vulnerability",suggestion:"Use safer alternatives like textContent or implement proper sanitization"}),/console\.log\(/.test(e)&&s.push({severity:"low",description:"console.log statements found",suggestion:"Remove console.log statements before production"}),(/\/\/\s*TODO/.test(e)||/\/\*\s*TODO/.test(e))&&s.push({severity:"low",description:"TODO comments found",suggestion:"Address or remove TODO comments before production"}),s}(e,s),r=i.some(e=>"high"===e.severity);return{valid:!r,issues:i,summary:r?"Security or critical issues detected":i.length>0?"Minor issues detected, but code is usable":"Code passed validation"}}catch(e){return console.error("Error validating code:",e),{valid:!1,issues:[{severity:"high",description:`Validation error: ${e instanceof Error?e.message:"Unknown error"}`}],summary:"Validation failed due to an error"}}}async function r(e){let t=[];for(let s of e){let e=await i(s.content,s.path),r=s.content;!e.valid&&(s.path.endsWith(".js")||s.path.endsWith(".ts")||s.path.endsWith(".jsx")||s.path.endsWith(".tsx")?r=`/**
 * WARNING: This file contains validation issues:
 * ${e.summary}
 * 
 * ${e.issues.map(e=>`- ${e.severity.toUpperCase()}: ${e.description}`).join("\n * ")}
 * 
 * Please review and fix these issues before using in production.
 */

${r}`:s.path.endsWith(".html")?r=`<!--
  WARNING: This file contains validation issues:
  ${e.summary}
  
  ${e.issues.map(e=>`- ${e.severity.toUpperCase()}: ${e.description}`).join("\n  ")}
  
  Please review and fix these issues before using in production.
-->

${r}`:s.path.endsWith(".css")&&(r=`/**
 * WARNING: This file contains validation issues:
 * ${e.summary}
 * 
 * ${e.issues.map(e=>`- ${e.severity.toUpperCase()}: ${e.description}`).join("\n * ")}
 * 
 * Please review and fix these issues before using in production.
 */

${r}`)),t.push({path:s.path,content:r})}return t}s.d(t,{j:()=>i,x:()=>r})},81664:(e,t,s)=>{s.d(t,{K:()=>o,e:()=>n});var i=s(46874),r=s(32455);function n(e){return(0,i.lx)(process.env.SUPABASE_URL,process.env.SUPABASE_ANON_KEY,{cookies:{get:t=>e.get(t)?.value,set(t,s,i){e.set({name:t,value:s,...i})},remove(t,s){e.set({name:t,value:"",...s})}}})}function o(){return n((0,r.cookies)())}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),i=t.X(0,[638,246,455,874],()=>s(97705));module.exports=i})();