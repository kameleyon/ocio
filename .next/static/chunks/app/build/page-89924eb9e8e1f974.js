(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[788],{7332:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},2851:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]])},9634:function(e,t,s){Promise.resolve().then(s.bind(s,1189))},1189:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return M}});var a=s(7437),l=s(2265),r=s(4033),i=s(5871),n=s(5072),c=s(5754),d=s(5179),o=s(7815),m=s(2851),h=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,h.Z)("CornerDownLeft",[["polyline",{points:"9 10 4 15 9 20",key:"r3jprv"}],["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}]]),u=(0,h.Z)("SendHorizontal",[["path",{d:"m3 3 3 9-3 9 19-9Z",key:"1aobqy"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]);function p(e){let{onSubmit:t,loading:s,initialPrompt:r=""}=e,[i,n]=(0,l.useState)(r),[h,p]=(0,l.useState)(0),[g,j]=(0,l.useState)(""),[b,f]=(0,l.useState)(!0),[y,N]=(0,l.useState)(!0),v=["Build me a task management tool with login and drag-and-drop Kanban.","Create a blog platform with markdown support and tags.","Make a recipe sharing app with search and favorites.","Build a fitness tracking app with progress charts.","Design a portfolio website with project showcase."];return(0,l.useEffect)(()=>{let e,t;if(r){n(r),f(!1);return}let s=v[h],a=0;b&&(t=setInterval(()=>{a<s.length?(j(s.substring(0,a+1)),a++):(clearInterval(t),f(!1),e=setTimeout(()=>{f(!0),a=s.length,t=setInterval(()=>{a>0?(j(s.substring(0,a-1)),a--):(clearInterval(t),p((h+1)%v.length),f(!0))},30)},3e3))},50));let l=setInterval(()=>{N(e=>!e)},530);return()=>{clearInterval(t),clearInterval(l),clearTimeout(e)}},[r,h,b,v]),(0,a.jsxs)(o.Zb,{className:"w-full rounded-xl border-slateBlue/30 bg-berkeleyBlue/30 p-4 backdrop-blur-md md:p-6",children:[(0,a.jsxs)("p",{className:"mb-2 flex items-center gap-1.5 text-sm font-medium text-whiteSmoke",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 text-robinEggBlue"}),"Describe your app in detail"]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i.trim()&&!s&&t(i)},className:"flex items-end gap-2",children:[(0,a.jsxs)("div",{className:"flex-grow relative",children:[(0,a.jsx)(d.I,{value:i,onChange:e=>{n(e.target.value)},placeholder:r?"":"Type your app description...",disabled:s,className:"pr-24 border-slateBlue/50 bg-richBlack/50 text-whiteSmoke h-12 text-base"}),!i&&!r&&(0,a.jsxs)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-lightGray/70 font-light",children:[g,y&&(0,a.jsx)("span",{className:"text-robinEggBlue",children:"|"})]}),(0,a.jsxs)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-1 text-xs text-lightGray/70",children:[(0,a.jsx)(x,{className:"h-3.5 w-3.5"}),(0,a.jsx)("span",{children:"to submit"})]})]}),(0,a.jsxs)(c.z,{type:"submit",className:"h-12 px-4 bg-gradient-to-r from-slateBlue to-robinEggBlue text-whiteSmoke shadow-glow transition-all duration-200 hover:from-slateBlue/90 hover:to-robinEggBlue/90",disabled:s||!i.trim(),children:[s?(0,a.jsx)("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-t-transparent border-whiteSmoke"}):(0,a.jsx)(u,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"ml-2",children:s?"Generating...":"Generate"})]})]}),(0,a.jsxs)("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xs text-lightGray",children:"Examples:"}),["E-commerce","Blog","Dashboard","Social app"].map(e=>(0,a.jsx)("button",{type:"button",className:"rounded-full border border-slateBlue/30 bg-richBlack/30 px-3 py-1 text-xs text-lightGray hover:bg-slateBlue/20 hover:text-whiteSmoke transition-colors",onClick:()=>{n({"E-commerce":"Create an e-commerce platform with product listings, shopping cart, and checkout process. Include user authentication and payment integration.",Blog:"Build a blog platform with article listings, categories, and comments. Include a markdown editor and user authentication.",Dashboard:"Develop an analytics dashboard with charts, tables, and filters. Include user authentication and data visualization tools.","Social app":"Design a social media app with user profiles, posts, likes, and comments. Include authentication and real-time notifications."}[e]||"")},disabled:s,children:e},e))]})]})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,h.Z)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);var j=s(2455);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let b=(0,h.Z)("PackageOpen",[["path",{d:"M20.91 8.84 8.56 2.23a1.93 1.93 0 0 0-1.81 0L3.1 4.13a2.12 2.12 0 0 0-.05 3.69l12.22 6.93a2 2 0 0 0 1.94 0L21 12.51a2.12 2.12 0 0 0-.09-3.67Z",key:"1vy178"}],["path",{d:"m3.09 8.84 12.35-6.61a1.93 1.93 0 0 1 1.81 0l3.65 1.9a2.12 2.12 0 0 1 .1 3.69L8.73 14.75a2 2 0 0 1-1.94 0L3 12.51a2.12 2.12 0 0 1 .09-3.67Z",key:"s3bv25"}],["line",{x1:"12",x2:"12",y1:"22",y2:"13",key:"1o4xyi"}],["path",{d:"M20 13.5v3.37a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13.5",key:"1na2nq"}]]),f=(0,h.Z)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);var y=s(7332),N=s(2442);function v(e){let{prompt:t,status:s,projectName:l,logs:r}=e;return(0,a.jsx)(o.Zb,{className:"w-full h-full p-4 md:p-6 bg-berkeleyBlue/30 backdrop-blur-md border-slateBlue/30 rounded-xl overflow-y-auto",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-lightGray",children:"Your Prompt"}),(0,a.jsx)("p",{className:"mt-1 text-whiteSmoke",children:t||"Enter a prompt to get started"})]}),l&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-lightGray",children:"Project Name"}),(0,a.jsx)("p",{className:"mt-1 text-robinEggBlue font-medium",children:l})]}),"idle"!==s&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-lightGray mb-3",children:"Generation Progress"}),(0,a.jsx)("ul",{className:"space-y-4",children:r.map(e=>(0,a.jsxs)("li",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"mt-0.5 p-1.5 rounded-md flex-shrink-0 ".concat("completed"===e.status?"bg-robinEggBlue/20 text-robinEggBlue":"in-progress"===e.status?"bg-slateBlue/20 text-slateBlue animate-pulse":"bg-lightGray/10 text-lightGray"),children:e.icon}),(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("p",{className:"font-medium ".concat("completed"===e.status?"text-whiteSmoke":"in-progress"===e.status?"text-slateBlue":"text-lightGray"),children:e.title}),e.timestamp&&(0,a.jsx)("span",{className:"text-xs text-lightGray",children:e.timestamp})]}),(0,a.jsx)("p",{className:"text-sm text-lightGray",children:e.description})]})]},e.id))})]})]})})}function w(e){let t=new Date,s=e=>e.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"});return[{id:"analyze",title:"Analyzing Prompt",description:"Parsing requirements and features",status:"idle"===e?"pending":"completed",icon:(0,a.jsx)(g,{className:"h-4 w-4"}),timestamp:"idle"!==e?s(t):void 0},{id:"structure",title:"Designing Architecture",description:"Planning project structure and components",status:"idle"===e||"pending"===e?"pending":"completed",icon:(0,a.jsx)(j.Z,{className:"h-4 w-4"}),timestamp:"idle"!==e&&"pending"!==e?s(new Date(t.getTime()+1e3)):void 0},{id:"frontend",title:"Generating Frontend",description:"Creating UI components and pages",status:"idle"===e||"pending"===e?"pending":"generating"===e?"in-progress":"completed",icon:(0,a.jsx)(b,{className:"h-4 w-4"}),timestamp:"completed"===e||"failed"===e?s(new Date(t.getTime()+2e3)):void 0},{id:"backend",title:"Generating Backend",description:"Setting up API endpoints and services",status:"idle"===e||"pending"===e||"generating"===e&&Math.random()>.5?"pending":"generating"===e?"in-progress":"completed",icon:(0,a.jsx)(f,{className:"h-4 w-4"}),timestamp:"completed"===e||"failed"===e?s(new Date(t.getTime()+3e3)):void 0},{id:"database",title:"Setting Up Database",description:"Creating schemas and relationships",status:"idle"===e||"pending"===e||"generating"===e?"pending":"completed",icon:(0,a.jsx)(y.Z,{className:"h-4 w-4"}),timestamp:"completed"===e||"failed"===e?s(new Date(t.getTime()+4e3)):void 0},{id:"packaging",title:"Packaging Project",description:"Preparing zip file for download",status:"idle"===e||"pending"===e||"generating"===e?"pending":"completed",icon:(0,a.jsx)(N.Z,{className:"h-4 w-4"}),timestamp:"completed"===e||"failed"===e?s(new Date(t.getTime()+5e3)):void 0}]}var k=s(4280);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let B=(0,h.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var S=s(7158);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let E=(0,h.Z)("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);var G=s(5628);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let Z=(0,h.Z)("Files",[["path",{d:"M15.5 2H8.6c-.4 0-.8.2-1.1.5-.3.3-.5.7-.5 1.1v12.8c0 .4.2.8.5 1.1.3.3.7.5 1.1.5h9.8c.4 0 .8-.2 1.1-.5.3-.3.5-.7.5-1.1V6.5L15.5 2z",key:"cennsq"}],["path",{d:"M3 7.6v12.8c0 .4.2.8.5 1.1.3.3.7.5 1.1.5h9.8",key:"ms809a"}],["path",{d:"M15 2v5h5",key:"qq6kwv"}]]),D=(0,h.Z)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);var P=s(5817);function C(e){let{status:t,projectDetails:s,downloadUrl:r,onRegenerate:i,onDownload:n}=e,[d,m]=(0,l.useState)("overview"),[h,x]=(0,l.useState)(new Set(["src","public"])),u=e=>{let t=new Set(h);h.has(e)?t.delete(e):t.add(e),x(t)};return"idle"===t?(0,a.jsx)(o.Zb,{className:"w-full h-full p-4 md:p-6 bg-berkeleyBlue/30 backdrop-blur-md border-slateBlue/30 rounded-xl flex flex-col justify-center items-center",children:(0,a.jsxs)("div",{className:"text-center text-lightGray",children:[(0,a.jsx)("h3",{className:"text-xl font-comfortaa mb-2",children:"Ready to generate"}),(0,a.jsx)("p",{className:"text-sm",children:"Enter a prompt to start building your app"})]})}):"pending"===t||"generating"===t?(0,a.jsx)(o.Zb,{className:"w-full h-full p-4 md:p-6 bg-berkeleyBlue/30 backdrop-blur-md border-slateBlue/30 rounded-xl flex flex-col justify-center items-center",children:(0,a.jsxs)("div",{className:"text-center text-lightGray",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-slateBlue/30 border-t-slateBlue rounded-full animate-spin mx-auto"})}),(0,a.jsx)("h3",{className:"text-xl font-comfortaa mb-2",children:"Building your app"}),(0,a.jsx)("p",{className:"text-sm",children:"This may take a minute..."})]})}):"failed"===t?(0,a.jsx)(o.Zb,{className:"w-full h-full p-4 md:p-6 bg-berkeleyBlue/30 backdrop-blur-md border-slateBlue/30 rounded-xl flex flex-col justify-center items-center",children:(0,a.jsxs)("div",{className:"text-center text-lightGray",children:[(0,a.jsx)("h3",{className:"text-xl font-comfortaa mb-2 text-red-400",children:"Generation failed"}),(0,a.jsx)("p",{className:"text-sm mb-4",children:"Something went wrong during generation"}),i&&(0,a.jsxs)(c.z,{onClick:i,className:"bg-slateBlue hover:bg-slateBlue/80 text-whiteSmoke",children:[(0,a.jsx)(k.Z,{className:"h-4 w-4 mr-2"}),"Try again"]})]})}):(0,a.jsxs)(o.Zb,{className:"w-full h-full bg-berkeleyBlue/30 backdrop-blur-md border-slateBlue/30 rounded-xl flex flex-col",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-slateBlue/20 flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("button",{onClick:()=>m("overview"),className:"flex items-center text-sm font-medium transition-colors ".concat("overview"===d?"text-whiteSmoke":"text-lightGray hover:text-whiteSmoke/80"),children:[(0,a.jsx)(j.Z,{className:"mr-1.5 h-4 w-4"}),"Overview"]}),(0,a.jsxs)("button",{onClick:()=>m("structure"),className:"flex items-center text-sm font-medium transition-colors ".concat("structure"===d?"text-whiteSmoke":"text-lightGray hover:text-whiteSmoke/80"),children:[(0,a.jsx)(Z,{className:"mr-1.5 h-4 w-4"}),"Structure"]}),(0,a.jsxs)("button",{onClick:()=>m("preview"),className:"flex items-center text-sm font-medium transition-colors ".concat("preview"===d?"text-whiteSmoke":"text-lightGray hover:text-whiteSmoke/80"),children:[(0,a.jsx)(D,{className:"mr-1.5 h-4 w-4"}),"Preview"]})]}),r&&(0,a.jsxs)(c.z,{className:"bg-gradient-to-r from-slateBlue to-robinEggBlue hover:from-slateBlue/90 hover:to-robinEggBlue/90 text-whiteSmoke transition-all duration-200 shadow-glow",onClick:n,children:[(0,a.jsx)(P.Z,{className:"h-4 w-4 mr-2"}),"Download .zip"]})]}),(0,a.jsxs)("div",{className:"p-4 md:p-6 overflow-y-auto flex-grow",children:[s&&"overview"===d&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-lightGray mb-1",children:"Project Name"}),(0,a.jsx)("p",{className:"text-whiteSmoke font-medium",children:s.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-lightGray mb-1",children:"Description"}),(0,a.jsx)("p",{className:"text-whiteSmoke",children:s.description})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-lightGray mb-2",children:"Tech Stack"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-richBlack/40 p-3 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(D,{className:"h-4 w-4 text-robinEggBlue"}),(0,a.jsx)("p",{className:"text-sm text-lightGray",children:"Frontend"})]}),(0,a.jsx)("p",{className:"text-whiteSmoke mt-1",children:s.techStack.frontend})]}),(0,a.jsxs)("div",{className:"bg-richBlack/40 p-3 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f,{className:"h-4 w-4 text-robinEggBlue"}),(0,a.jsx)("p",{className:"text-sm text-lightGray",children:"Backend"})]}),(0,a.jsx)("p",{className:"text-whiteSmoke mt-1",children:s.techStack.backend})]}),(0,a.jsxs)("div",{className:"bg-richBlack/40 p-3 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(y.Z,{className:"h-4 w-4 text-robinEggBlue"}),(0,a.jsx)("p",{className:"text-sm text-lightGray",children:"Database"})]}),(0,a.jsx)("p",{className:"text-whiteSmoke mt-1",children:s.techStack.database})]}),(0,a.jsxs)("div",{className:"bg-richBlack/40 p-3 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 text-robinEggBlue"}),(0,a.jsx)("p",{className:"text-sm text-lightGray",children:"Deployment"})]}),(0,a.jsx)("p",{className:"text-whiteSmoke mt-1",children:s.techStack.deployment})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-lightGray mb-1",children:"Features"}),(0,a.jsx)("ul",{className:"space-y-1 text-whiteSmoke list-disc list-inside",children:s.description.split(".").map((e,t)=>{let s=e.trim();return s&&s.length>10?(0,a.jsx)("li",{children:s},t):null}).filter(Boolean)})]})]}),s&&"structure"===d&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-lightGray mb-2",children:"Project Structure"}),(()=>{if(!s||!s.structure||0===s.structure.length)return(0,a.jsx)("p",{className:"text-lightGray",children:"No structure available"});let e=e=>{let t=e.match(/^(│\s+)*├──\s+/)||e.match(/^(│\s+)*└──\s+/);return t?t[0].length/4:0},t=e=>{let t=e.match(/(?:├──|└──)\s+(?:📁|📄)\s+(.+)/);return t?t[1]:e.replace(/^📁\s+/,"")},l=e=>e.includes("\uD83D\uDCC1"),r=s.structure.map((s,r)=>{let i=t(s),n=0===r?0:e(s),c=l(s),d=i.replace(/\/$/,""),o={paddingLeft:"".concat(12*n,"px")};if(!c)return(0,a.jsxs)("div",{className:"py-1 flex items-center",style:o,children:[(0,a.jsx)("span",{className:"w-4 mr-1"})," ",(0,a.jsx)(G.Z,{className:"h-4 w-4 mr-1.5 text-robinEggBlue"}),(0,a.jsx)("span",{className:"text-lightGray",children:i})]},r);{let e=h.has(d);return(0,a.jsxs)("div",{className:"py-1 flex items-center",style:o,children:[(0,a.jsx)("button",{onClick:()=>u(d),className:"mr-1 text-lightGray hover:text-whiteSmoke",children:e?(0,a.jsx)(B,{className:"h-4 w-4"}):(0,a.jsx)(S.Z,{className:"h-4 w-4"})}),(0,a.jsx)(E,{className:"h-4 w-4 mr-1.5 text-slateBlue"}),(0,a.jsx)("span",{className:"text-whiteSmoke",children:d})]},r)}});return(0,a.jsx)("div",{className:"bg-richBlack/40 p-3 rounded-lg overflow-y-auto max-h-80 font-mono text-sm",children:r})})()]}),s&&"preview"===d&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-lightGray mb-2",children:"Code Preview"}),(0,a.jsxs)("div",{className:"bg-richBlack/40 rounded-lg overflow-hidden border border-slateBlue/20",children:[(0,a.jsxs)("div",{className:"border-b border-slateBlue/20 p-2 bg-richBlack/60 flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-xs text-lightGray",children:"\uD83D\uDCC4 index.html"}),(0,a.jsxs)("div",{className:"flex gap-1.5",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500/40"}),(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500/40"}),(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500/40"})]})]}),(0,a.jsx)("pre",{className:"p-4 text-lightGray font-mono text-sm overflow-x-auto",children:(0,a.jsx)("code",{children:'<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>'.concat(s.name,'</title>\n    <link rel="stylesheet" href="/styles.css">\n</head>\n<body>\n    <div id="root"></div>\n    <script src="/main.js"></script>\n</body>\n</html>')})})]}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mt-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-lightGray mb-2",children:"Getting Started"}),(0,a.jsxs)("div",{className:"bg-richBlack/40 p-4 rounded-lg font-mono text-sm text-lightGray",children:[(0,a.jsx)("p",{className:"mb-2",children:"# Install dependencies"}),(0,a.jsx)("p",{className:"text-robinEggBlue mb-4",children:"npm install"}),(0,a.jsx)("p",{className:"mb-2",children:"# Start development server"}),(0,a.jsx)("p",{className:"text-robinEggBlue mb-4",children:"npm run dev"}),(0,a.jsx)("p",{className:"mb-2",children:"# Build for production"}),(0,a.jsx)("p",{className:"text-robinEggBlue",children:"npm run build"})]})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-lightGray mb-2",children:"Environment Setup"}),(0,a.jsxs)("div",{className:"bg-richBlack/40 p-4 rounded-lg font-mono text-sm text-lightGray",children:[(0,a.jsx)("p",{className:"mb-2",children:"# .env.example"}),"MongoDB"===s.techStack.database?(0,a.jsx)("p",{className:"text-robinEggBlue mb-2",children:"MONGODB_URI=mongodb://localhost:27017/my_database"}):"PostgreSQL"===s.techStack.database?(0,a.jsx)("p",{className:"text-robinEggBlue mb-2",children:"DATABASE_URL=postgresql://user:password@localhost:5432/my_database"}):(0,a.jsx)("p",{className:"text-robinEggBlue mb-2",children:"DATABASE_URL=your_database_connection_string"}),(0,a.jsx)("p",{className:"text-robinEggBlue mb-2",children:"PORT=3000"}),(0,a.jsx)("p",{className:"text-robinEggBlue",children:"NODE_ENV=development"})]})]})]})]})]})]})}var I=s(8258),L=s(1775);function M(){let{user:e,loading:t}=(0,I.useAuth)(),[s,c]=(0,l.useState)(""),[d,o]=(0,l.useState)("idle"),[m,h]=(0,l.useState)(null),[x,u]=(0,l.useState)(null),[g,j]=(0,l.useState)(w("idle")),b=(0,r.useSearchParams)().get("projectId"),f=new L.Y;(0,l.useEffect)(()=>{t||e||(0,r.redirect)("/login")},[t,e]),(0,l.useEffect)(()=>{b&&e&&y(b)},[b,e]);let y=async e=>{try{let t=await f.getProjectById(e);t&&(h(t),c(t.prompt),"completed"===t.status?(o("completed"),j(w("completed")),u({name:t.name,description:t.description,techStack:t.tech_stack,files:[],structure:t.structure||[]})):"generating"===t.status||"pending"===t.status?(o("generating"),j(w("generating")),k(t.id)):(o("failed"),j(w("failed"))))}catch(e){console.error("Error loading existing project:",e)}},N=async t=>{if(e){c(t),o("pending"),j(w("pending"));try{let s=await f.createProject(e.id,t);if(s)h(s),o("generating"),j(w("generating")),k(s.id);else throw Error("Failed to create project")}catch(e){console.error("Error creating project:",e),o("failed"),j(w("failed"))}}},k=async e=>{let t=async()=>{try{let t=await f.getProjectById(e);if(!t)throw Error("Project not found");if(h(t),"completed"===t.status)return o("completed"),j(w("completed")),u({name:t.name,description:t.description,techStack:t.tech_stack,files:[],structure:t.structure||[]}),!0;if("failed"===t.status)return o("failed"),j(w("failed")),!0}catch(e){console.error("Error polling project status:",e)}return!1};if(!await t()){let e=setInterval(async()=>{await t()&&clearInterval(e)},3e3);return()=>clearInterval(e)}},B=async()=>{if(m){o("pending"),j(w("pending"));try{if(!await f.regenerateProject(m.id))throw Error("Failed to regenerate project");o("generating"),j(w("generating")),k(m.id)}catch(e){console.error("Error regenerating project:",e),o("failed"),j(w("failed"))}}},S=async()=>{if(m)try{await f.downloadProject(m.id)}catch(e){console.error("Error downloading project:",e)}};return t?(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-richBlack",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"mb-4 h-8 w-8 animate-spin border-t-2 border-slateBlue rounded-full"}),(0,a.jsx)("p",{className:"text-lightGray",children:"Loading..."})]})}):(0,a.jsxs)("main",{className:"flex min-h-screen flex-col bg-richBlack",children:[(0,a.jsx)(n.Z,{}),(0,a.jsxs)(i.W,{className:"flex-grow flex flex-col py-6 md:py-8",children:[(0,a.jsx)("h1",{className:"mb-4 font-comfortaa text-2xl font-bold text-whiteSmoke md:text-3xl",children:"Build Your App"}),(0,a.jsx)(p,{onSubmit:N,loading:"pending"===d||"generating"===d,initialPrompt:s}),(0,a.jsxs)("div",{className:"mt-6 grid flex-grow grid-cols-1 gap-6 lg:grid-cols-2",children:[(0,a.jsx)(v,{prompt:s,status:d,projectName:null==m?void 0:m.name,logs:g}),(0,a.jsx)(C,{status:d,projectDetails:x||void 0,downloadUrl:(null==m?void 0:m.download_url)||void 0,onRegenerate:B,onDownload:S})]})]})]})}}},function(e){e.O(0,[887,574,657,269,971,938,744],function(){return e(e.s=9634)}),_N_E=e.O()}]);