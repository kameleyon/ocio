"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[72],{5072:function(e,r,t){t.d(r,{Z:function(){return g}});var n=t(7437),i=t(2265),s=t(1396),a=t.n(s),l=t(8333),o=t(5754),c=t(5871),u=t(2455),d=t(7444),h=t(4322),f=t(7972),m=t(5883),x=t(8004);function g(){let{signOut:e,profile:r}=(0,l.useAuth)(),[t,s]=i.useState(!1);return(0,n.jsx)("header",{className:"py-4 bg-richBlack/90 backdrop-blur-md border-b border-slateBlue/20 sticky top-0 z-50",children:(0,n.jsxs)(c.W,{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)(a(),{href:"/build",className:"flex items-center space-x-2",children:[(0,n.jsx)(u.Z,{className:"h-6 w-6 text-robinEggBlue"}),(0,n.jsx)("span",{className:"font-comfortaa font-bold text-xl text-whiteSmoke",children:"OptimusCode.io"})]}),(0,n.jsxs)("nav",{className:"hidden md:flex items-center space-x-6",children:[(0,n.jsxs)(a(),{href:"/build",className:"text-lightGray hover:text-whiteSmoke transition flex items-center gap-1.5",children:[(0,n.jsx)(d.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:"Build"})]}),(0,n.jsxs)(a(),{href:"/projects",className:"text-lightGray hover:text-whiteSmoke transition flex items-center gap-1.5",children:[(0,n.jsx)(h.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:"Projects"})]}),(0,n.jsxs)(a(),{href:"/profile",className:"text-lightGray hover:text-whiteSmoke transition flex items-center gap-1.5",children:[(0,n.jsx)(f.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:"Profile"})]}),(0,n.jsx)("div",{className:"h-6 border-l border-slateBlue/30 mx-2"}),(0,n.jsxs)(o.z,{variant:"outline",className:"border-slateBlue/50 text-lightGray hover:text-whiteSmoke hover:border-slateBlue",onClick:()=>{e(),window.location.href="/"},children:[(0,n.jsx)(m.Z,{className:"h-4 w-4 mr-1.5"}),"Sign Out"]})]}),(0,n.jsx)("button",{className:"md:hidden text-lightGray",onClick:()=>s(!t),children:(0,n.jsx)(x.Z,{className:"h-6 w-6"})})]}),t&&(0,n.jsxs)("nav",{className:"md:hidden mt-4 pt-4 border-t border-slateBlue/20 flex flex-col space-y-2",children:[(0,n.jsxs)(a(),{href:"/build",className:"text-lightGray hover:text-whiteSmoke p-2 rounded-md flex items-center",onClick:()=>s(!1),children:[(0,n.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),(0,n.jsx)("span",{children:"Build"})]}),(0,n.jsxs)(a(),{href:"/projects",className:"text-lightGray hover:text-whiteSmoke p-2 rounded-md flex items-center",onClick:()=>s(!1),children:[(0,n.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),(0,n.jsx)("span",{children:"Projects"})]}),(0,n.jsxs)(a(),{href:"/profile",className:"text-lightGray hover:text-whiteSmoke p-2 rounded-md flex items-center",onClick:()=>s(!1),children:[(0,n.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),(0,n.jsx)("span",{children:"Profile"})]}),(0,n.jsxs)(o.z,{variant:"outline",className:"mt-2 border-slateBlue/50 text-lightGray hover:text-whiteSmoke hover:border-slateBlue w-full justify-start",onClick:()=>{e(),s(!1),window.location.href="/"},children:[(0,n.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})})}},5754:function(e,r,t){t.d(r,{z:function(){return c}});var n=t(7437),i=t(2265),s=t(7256),a=t(6061),l=t(1657);let o=(0,a.j)("inline-flex items-center justify-center rounded-xl text-sm font-comfortaa font-bold ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border-2 border-slateBlue text-whiteSmoke hover:bg-slateBlue hover:bg-opacity-20 hover:shadow-glow",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",gradient:"bg-gradient-to-r from-slateBlue to-robinEggBlue text-whiteSmoke shadow-glow hover:shadow-lg hover:scale-105"},size:{default:"h-10 px-6 py-2",sm:"h-9 px-3",lg:"h-12 px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=i.forwardRef((e,r)=>{let{className:t,variant:i,size:a,asChild:c=!1,...u}=e,d=c?s.g7:"button";return(0,n.jsx)(d,{className:(0,l.cn)(o({variant:i,size:a,className:t})),ref:r,...u})});c.displayName="Button"},5871:function(e,r,t){t.d(r,{W:function(){return a}});var n=t(7437),i=t(2265),s=t(1657);let a=i.forwardRef((e,r)=>{let{className:t,as:i="div",...a}=e;return(0,n.jsx)(i,{ref:r,className:(0,s.cn)("w-full mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl",t),...a})});a.displayName="Container"},8333:function(e,r,t){t.r(r),t.d(r,{AuthProvider:function(){return c},useAuth:function(){return u}});var n=t(7437),i=t(2265),s=t(4599),a=t(4033),l=t(8993);let o=(0,i.createContext)(void 0);function c(e){let{children:r}=e,[t,c]=(0,i.useState)(null),[u,d]=(0,i.useState)(null),[h,f]=(0,i.useState)(!0),m=(0,a.useRouter)();(0,i.useEffect)(()=>{(async()=>{try{let{data:{session:e}}=await s.O.auth.getSession();if(null==e?void 0:e.user){c(e.user);let r=await (0,l.Ai)(e.user.id);d(r)}}catch(e){console.error("Error checking session:",e)}finally{f(!1)}})();let{data:e}=s.O.auth.onAuthStateChange(async(e,r)=>{(null==r?void 0:r.user)?(c(r.user),d(await (0,l.Ai)(r.user.id))):(c(null),d(null)),f(!1)});return()=>{e.subscription.unsubscribe()}},[]);let x=async(e,r)=>{try{let{data:t,error:n}=await s.O.auth.signInWithPassword({email:e,password:r});if(n)throw n;if(t.user){c(t.user);let e=await (0,l.Ai)(t.user.id);d(e),m.push("/build")}return{error:null}}catch(e){return console.error("Error signing in:",e),{error:e}}},g=async(e,r)=>{try{let{data:t,error:n}=await s.O.auth.signUp({email:e,password:r,options:{emailRedirectTo:"".concat(window.location.origin,"/auth/callback"),data:{full_name:"",avatar_url:""}}});if(n)throw n;return t.user&&m.push("/login?message=verification-email-sent"),{error:null}}catch(e){return console.error("Error signing up:",e),{error:e}}},w=async()=>{try{await s.O.auth.signOut(),window.location.href="/"}catch(e){console.error("Error signing out:",e)}},p=async()=>{t&&d(await (0,l.Ai)(t.id))};return(0,n.jsx)(o.Provider,{value:{user:t,profile:u,loading:h,signIn:x,signUp:g,signOut:w,refreshProfile:p},children:r})}function u(){let e=(0,i.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},8993:function(e,r,t){t.d(r,{Ai:function(){return i},ck:function(){return s}});var n=t(4599);async function i(e){try{let{data:t,error:i}=await n.O.from("profiles").select("*").eq("id",e).maybeSingle();if(i&&"PGRST116"!==i.code)throw i;if(!t&&e){var r;let t=await n.O.auth.getUser();if(null===(r=t.data)||void 0===r?void 0:r.user){let r=t.data.user.email||"",{data:i,error:s}=await n.O.from("profiles").insert({id:e,email:r,full_name:null,avatar_url:null,subscription_tier:"free",generation_count:0}).select().single();if(s)throw s;return i}}return t}catch(e){return console.error("Error in getProfile:",e),null}}async function s(e,r){try{let{data:t,error:i}=await n.O.from("profiles").update(r).eq("id",e).select().single();if(i)throw i;return{profile:t,error:null}}catch(e){return console.error("Error in updateProfile:",e),{profile:null,error:e}}}},4599:function(e,r,t){t.d(r,{O:function(){return n}});let n=(0,t(6502).AY)("https://cfovctpyutyvyqzvypwx.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNmb3ZjdHB5dXR5dnlxenZ5cHd4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ5MTk0MDIsImV4cCI6MjA2MDQ5NTQwMn0.J-c-JGblGgP4zi5ceTORCq8MYbdfcbtP-Ml8a8s4oRM")},1657:function(e,r,t){t.d(r,{cn:function(){return s}});var n=t(7042),i=t(4769);function s(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,i.m6)((0,n.W)(r))}}}]);